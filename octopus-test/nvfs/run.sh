#!/bin/bash
for ((i=1; i<=24; i++))
do
	echo round $i
	/usr/bin/mpirun --allow-run-as-root --hostfile mfile -np $i /usr/bin/java -classpath .:/users/andyhero/rdma-hadoop-3.x-0.9.1-x86-bin/share/hadoop/hdfs/hadoop-hdfs-2.7.3.jar:/users/andyhero/rdma-hadoop-3.x-0.9.1-x86-bin/share/hadoop/common/hadoop-common-2.7.3.jar:/users/andyhero/rdma-hadoop-3.x-0.9.1-x86-bin/share/hadoop/mapreduce/hadoop-mapreduce-client-core-2.7.3.jar:/users/andyhero/rdma-hadoop-3.x-0.9.1-x86-bin/share/hadoop/common/lib/commons-logging-1.1.3.jar:/users/andyhero/rdma-hadoop-3.x-0.9.1-x86-bin/share/hadoop/common/lib/guava-11.0.2.jar:/users/andyhero/rdma-hadoop-3.x-0.9.1-x86-bin/share/hadoop/common/lib/commons-collections-3.2.2.jar:/users/andyhero/rdma-hadoop-3.x-0.9.1-x86-bin/share/hadoop/common/lib/commons-lang-2.6.jar:/users/andyhero/rdma-hadoop-3.x-0.9.1-x86-bin/share/hadoop/common/lib/commons-configuration-1.6.jar:/users/andyhero/rdma-hadoop-3.x-0.9.1-x86-bin/share/hadoop/common/lib/hadoop-auth-2.7.3.jar:/users/andyhero/rdma-hadoop-3.x-0.9.1-x86-bin/share/hadoop/common/lib/slf4j-api-1.7.10.jar:/users/andyhero/rdma-hadoop-3.x-0.9.1-x86-bin/share/hadoop/common/lib/slf4j-log4j12-1.7.10.jar:/users/andyhero/rdma-hadoop-3.x-0.9.1-x86-bin/share/hadoop/common/lib/log4j-1.2.17.jar:/users/andyhero/rdma-hadoop-3.x-0.9.1-x86-bin/share/hadoop/common/lib/htrace-core-3.1.0-incubating.jar:/users/andyhero/rdma-hadoop-3.x-0.9.1-x86-bin/share/hadoop/common/lib/commons-cli-1.2.jar:/users/andyhero/rdma-hadoop-3.x-0.9.1-x86-bin/share/hadoop/common/lib/protobuf-java-2.5.0.jar:/users/andyhero/rdma-hadoop-3.x-0.9.1-x86-bin/share/hadoop/common/lib/commons-io-2.4.jar OperatingFiles
done
